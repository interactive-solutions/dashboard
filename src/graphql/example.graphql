fragment FullUser on User {
  id
  firstName
  lastName
  email
  mobileNumber
  role
  blocked
  emailVerified
  image {
    id
    uri
    width
    height
    sizeInBytes
    contentType
    filename
    originalName
    createdAt
  }
  subscription {
    id
    customerId
    plan
    status
    PaidAt
    currentPeriodEnd
    cancelAtPeriodEnd
    planBillingInterval
    currency
    interval
    amount
    createdAt
    updatedAt
    trialUntil
  }
  signupReason
  joinReason {
    id
    occupation
    school
    subject
  }
  newsletter
  language
  createdAt
  updatedAt
  deletedAt
}

query Users($filter: UserFilter, $sorting: SortOrdering) {
  users(filter: $filter, sorting: $sorting) {
    edges {
      id
      firstName
      email
      lastName
      createdAt
    }
    meta {
      limit
      offset
      total
    }
  }
}

mutation RefreshToken($token: String!) {
  refreshToken(token: $token) {
    jwt
    refreshToken
  }
}

mutation LoginEmail($email: String!, $password: String!) {
  loginEmail(email: $email, password: $password) {
    jwt
    refreshToken
    userId
    message
    success
    newAccount
    user {
      ...FullUser
    }
  }
}

query Me {
  me {
    ...FullUser
  }
}
